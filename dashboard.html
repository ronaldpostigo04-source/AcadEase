<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - AcadEase</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background: #aee7bf;
      min-height: 100vh;
    }

    header {
      background: #1b4332;
      color: rgb(255, 255, 255);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    header h1 {
      margin: 0;
      font-size: 1.5rem;
    }

    .user-info {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .user-email {
      font-size: 0.9rem;
      opacity: 0.9;
    }

    .menu-icon {
      font-size: 26px;
      cursor: pointer;
      user-select: none;
      padding: 5px;
    }

    .side-nav {
      position: fixed;
      top: 0;
      right: -250px; /* Changed from left to right */
      width: 250px;
      height: 100%;
      background: #1b4332;
      color: white;
      padding-top: 60px;
      transition: 0.3s;
      z-index: 1000;
    }

    .side-nav.active {
      right: 0; /* Changed from left to right */
    }

    .side-nav a, .side-nav button {
      display: block;
      color: white;
      text-decoration: none;
      padding: 15px 25px;
      font-size: 1.1rem;
      transition: 0.3s;
      border: none;
      background: none;
      width: 100%;
      text-align: left;
      cursor: pointer;
    }

    .side-nav a:hover, .side-nav button:hover {
      background: #40916c;
    }

    .nav-label {
      font-size: 0.8rem;
      color: #95d5b2;
      padding: 5px 25px;
      margin-top: 5px;
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      display: none;
      z-index: 500;
    }

    .overlay.active {
      display: block;
    }

    main {
      padding: 40px 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .welcome-section {
      text-align: center;
      margin-bottom: 40px;
    }

    .welcome-section h1 {
      color: #1b4332;
      margin-bottom: 20px;
      font-size: 2.5rem;
    }

    .welcome-section p {
      color: #555;
      font-size: 1.1rem;
      line-height: 1.6;
      max-width: 800px;
      margin: 0 auto;
    }

    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }

    .dashboard-card {
      background: white;
      padding: 25px;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      transition: transform 0.3s, box-shadow 0.3s;
      cursor: pointer;
    }

    .dashboard-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 15px rgba(0,0,0,0.15);
    }

    .dashboard-card h3 {
      color: #1b4332;
      margin-bottom: 15px;
      font-size: 1.3rem;
    }

    /* Section Styles */
    .section {
      display: none;
      margin-top: 40px;
      background: white;
      border-radius: 10px;
      padding: 25px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .section.active {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .section h2 {
      color: #1b4332;
      margin-bottom: 20px;
      text-align: center;
      font-size: 1.8rem;
    }

    /* Calendar Section */
    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .calendar-nav {
      display: flex;
      gap: 10px;
    }

    .calendar-nav button {
      background: #1b4332;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .calendar-nav button:hover {
      background: #2d6a4f;
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 1px;
      background: #e0e0e0;
      border: 1px solid #e0e0e0;
    }

    .calendar-day-header {
      background: #1b4332;
      color: white;
      text-align: center;
      padding: 10px;
      font-weight: bold;
    }

    .calendar-day {
      background: white;
      min-height: 100px;
      padding: 8px;
      position: relative;
      cursor: pointer;
      transition: background 0.2s;
    }

    .calendar-day:hover {
      background: #f5f5f5;
    }

    .calendar-day.empty {
      background: #f9f9f9;
      cursor: default;
    }

    .calendar-day.today {
      background: #e8f5e8;
      border: 2px solid #40916c;
    }

    .day-number {
      font-weight: bold;
      margin-bottom: 5px;
    }

    .event {
      background: #40916c;
      color: white;
      padding: 2px 5px;
      border-radius: 3px;
      font-size: 0.8rem;
      margin-bottom: 2px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .event.assignment {
      background: #d9534f;
    }

    .event.exam {
      background: #f0ad4e;
    }

    .event.class {
      background: #5bc0de;
    }

    .calendar-legend {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 20px;
      flex-wrap: wrap;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 5px;
      font-size: 0.9rem;
    }

    .legend-color {
      width: 15px;
      height: 15px;
      border-radius: 3px;
    }

    /* Course Section */
    .course-info {
      text-align: center;
      margin-bottom: 30px;
    }

    .course-info h3 {
      color: #1b4332;
      font-size: 2rem;
      margin-bottom: 10px;
    }

    .course-details {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }

    .detail-card {
      background: #e8f5e8;
      padding: 20px;
      border-radius: 8px;
      text-align: center;
    }

    .detail-card h4 {
      color: #1b4332;
      margin-bottom: 10px;
    }

    /* Classroom Section */
    .classroom-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .classroom-card {
      background: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .classroom-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 15px rgba(0,0,0,0.15);
    }

    .classroom-header {
      background: #1b4332;
      color: white;
      padding: 15px;
    }

    .classroom-header h3 {
      margin: 0;
      font-size: 1.3rem;
    }

    .classroom-body {
      padding: 20px;
    }

    .classroom-info {
      margin-bottom: 15px;
    }

    .classroom-info p {
      margin: 5px 0;
      color: #555;
    }

    .classroom-actions {
      display: flex;
      gap: 10px;
    }

    .classroom-btn {
      flex: 1;
      padding: 8px 12px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: 500;
      transition: background 0.3s;
    }

    .classroom-btn.primary {
      background: #1b4332;
      color: white;
    }

    .classroom-btn.secondary {
      background: #e8f5e8;
      color: #1b4332;
    }

    .classroom-btn:hover {
      opacity: 0.9;
    }

    /* Google Meet Section */
    .meet-container {
      background: white;
      border-radius: 10px;
      padding: 25px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      margin-top: 20px;
    }

    .meet-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .meet-info {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .meet-logo {
      width: 50px;
      height: 50px;
      background: #1a73e8;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 1.2rem;
    }

    .meet-details h3 {
      color: #1b4332;
      margin-bottom: 5px;
    }

    .meet-details p {
      color: #666;
      margin: 0;
    }

    .meet-actions {
      display: flex;
      gap: 10px;
    }

    .meet-btn {
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .meet-btn.primary {
      background: #1a73e8;
      color: white;
    }

    .meet-btn.secondary {
      background: #f1f3f4;
      color: #1b4332;
    }

    .meet-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    .meet-preview {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 20px;
      margin-top: 20px;
      text-align: center;
    }

    .meet-preview h4 {
      color: #1b4332;
      margin-bottom: 15px;
    }

    .meet-link {
      background: white;
      padding: 15px;
      border-radius: 5px;
      margin-bottom: 15px;
      word-break: break-all;
      border: 1px solid #e0e0e0;
    }

    .meet-link a {
      color: #1a73e8;
      text-decoration: none;
      font-weight: 500;
    }

    .meet-link a:hover {
      text-decoration: underline;
    }

    .copy-btn {
      background: #1b4332;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .copy-btn:hover {
      background: #2d6a4f;
    }

    /* Grades Section */
    .grades-summary {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .grade-card {
      background: #e8f5e8;
      padding: 20px;
      border-radius: 8px;
      text-align: center;
    }

    .grade-card h4 {
      color: #1b4332;
      margin-bottom: 10px;
    }

    .grade-value {
      font-size: 2rem;
      font-weight: bold;
      color: #1b4332;
    }

    .grades-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    .grades-table th, .grades-table td {
      padding: 12px 15px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }

    .grades-table th {
      background: #1b4332;
      color: white;
    }

    .grades-table tr:hover {
      background: #f5f5f5;
    }

    /* Assignment/Activity Section */
    .assignment-form {
      background: #e8f5e8;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 30px;
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-group label {
      display: block;
      margin-bottom: 5px;
      color: #1b4332;
      font-weight: 500;
    }

    .form-group input, .form-group textarea, .form-group select {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }

    .btn {
      background: #1b4332;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .btn:hover {
      background: #2d6a4f;
    }

    .assignment-list {
      margin-top: 20px;
    }

    .assignment-item {
      background: white;
      padding: 20px;
      margin: 15px 0;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      border-left: 4px solid #40916c;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .assignment-item:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    }

    .assignment-item h3 {
      color: #1b4332;
      margin-bottom: 10px;
    }

    .assignment-item p {
      color: #666;
      margin-bottom: 10px;
    }

    .assignment-item .deadline {
      color: #d9534f;
      font-weight: bold;
    }

    .assignment-item .submission-status {
      margin-top: 10px;
      font-size: 0.9rem;
    }

    .assignment-item .submitted {
      color: #28a745;
      font-weight: bold;
    }

    .assignment-item .not-submitted {
      color: #dc3545;
      font-weight: bold;
    }

    .empty-state {
      text-align: center;
      color: #666;
      padding: 40px;
      background: white;
      border-radius: 10px;
      margin: 20px auto;
      max-width: 500px;
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 2000;
      justify-content: center;
      align-items: center;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background: white;
      padding: 30px;
      border-radius: 10px;
      width: 90%;
      max-width: 500px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    }

    .modal h3 {
      color: #1b4332;
      margin-bottom: 20px;
    }

    .modal-buttons {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      margin-top: 20px;
    }

    .modal-buttons button {
      padding: 8px 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .btn-primary {
      background: #1b4332;
      color: white;
    }

    .btn-secondary {
      background: #6c757d;
      color: white;
    }

    .submission-link {
      margin-top: 10px;
      padding: 10px;
      background: #f8f9fa;
      border-radius: 5px;
      word-break: break-all;
    }

    .submission-link a {
      color: #1b4332;
      text-decoration: none;
      font-weight: bold;
    }

    .submission-link a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <header>
    <h1>AcadEase Dashboard</h1>
    <div class="user-info">
      <span class="user-email" id="userEmail">Welcome!</span>
      <span class="menu-icon" onclick="toggleMenu()">‚ò∞</span>
    </div>
  </header>

  <div class="side-nav" id="sideNav">
    <a href="#" onclick="showSection('assignments')">üìù Assignment/Activity</a>
    <a href="#" onclick="showSection('courses')">üìò My Courses</a>
    <a href="#" onclick="showSection('classroom')">üè´ Classroom</a>
    <a href="#" onclick="showSection('calendar')">üìÖ Schedule</a>
    <a href="#" onclick="showSection('grades')">üìä Grades</a>
    <button onclick="logout()">üö™ Logout</button>
  </div>

  <div class="overlay" id="overlay" onclick="toggleMenu()"></div>

  <main>
    <div class="welcome-section">
      <h1>Welcome to AcadEase Dashboard</h1>
      <p>AcadEase is a simple to use academic management platform that helps students easily manage their academic work,
         schedules, and deadlines. The platform has an organized and intuitive design that helps students track important 
         deadlines, keep track of their classes, and manage expectations for academic success.</p>
    </div>

    <!-- Calendar Section -->
    <div class="section" id="calendarSection">
      <h2>Academic Calendar</h2>
      <div class="calendar-header">
        <div class="calendar-nav">
          <button onclick="previousMonth()">‚Üê Previous</button>
          <button onclick="nextMonth()">Next ‚Üí</button>
        </div>
        <h3 id="currentMonthYear">Month Year</h3>
        <button class="btn" onclick="openAddEventModal()">+ Add Event</button>
      </div>
      
      <div class="calendar-grid" id="calendarGrid">
        <!-- Calendar will be generated here -->
      </div>
      
      <div class="calendar-legend">
        <div class="legend-item">
          <div class="legend-color" style="background: #40916c;"></div>
          <span>Event</span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #d9534f;"></div>
          <span>Assignment</span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #f0ad4e;"></div>
          <span>Exam</span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #5bc0de;"></div>
          <span>Class</span>
        </div>
      </div>
    </div>

    <!-- Courses Section -->
    <div class="section" id="coursesSection">
      <h2>My Courses</h2>
      <div class="course-info">
        <h3>WEB DEVELOPMENT</h3>
        <p>Course Code: CS101 | Instructor: Prof. Smith</p>
      </div>
      
      <div class="course-details">
        <div class="detail-card">
          <h4>üìö Course Description</h4>
          <p>Learn front-end and back-end web development technologies including HTML, CSS, JavaScript, and Node.js.</p>
        </div>
        <div class="detail-card">
          <h4>üìÖ Schedule</h4>
          <p>Monday & Wednesday<br>10:00 AM - 11:30 AM</p>
        </div>
        <div class="detail-card">
          <h4>üìç Location</h4>
          <p>Room 205, Computer Science Building</p>
        </div>
        <div class="detail-card">
          <h4>üìã Requirements</h4>
          <p>Midterm Exam: 30%<br>Final Project: 40%<br>Assignments: 30%</p>
        </div>
      </div>
    </div>

    <!-- Classroom Section -->
    <div class="section" id="classroomSection">
      <h2>Virtual Classroom</h2>
      
      <!-- Google Meet Section for Web Development -->
      <div class="meet-container">
        <div class="meet-header">
          <div class="meet-info">
            <div class="meet-logo">GM</div>
            <div class="meet-details">
              <h3>Web Development - Google Meet</h3>
              <p>Join your Web Development class online</p>
            </div>
          </div>
          <div class="meet-actions">
            <button class="meet-btn primary" onclick="joinGoogleMeet()">
              <span>üé•</span> Join Now
            </button>
            <button class="meet-btn secondary" onclick="viewMeetDetails()">
              <span>‚ÑπÔ∏è</span> Details
            </button>
          </div>
        </div>
        
        <div class="meet-preview">
          <h4>Class Meeting Information</h4>
          <div class="meet-link">
            <a href="https://meet.google.com/acadease-web-dev" target="_blank" id="meetLink">
              https://meet.google.com/acadease-web-dev
            </a>
          </div>
          <button class="copy-btn" onclick="copyMeetLink()">üìã Copy Link</button>
          <div style="margin-top: 15px; font-size: 0.9rem; color: #666;">
            <p><strong>Next Session:</strong> Today, 10:00 AM - 11:30 AM</p>
            <p><strong>Instructor:</strong> Prof. Smith</p>
            <p><strong>Meeting ID:</strong> acadease-web-dev</p>
          </div>
        </div>
      </div>
      
      <div class="classroom-container">
        <div class="classroom-card">
          <div class="classroom-header">
            <h3>Database Systems</h3>
          </div>
          <div class="classroom-body">
            <div class="classroom-info">
              <p><strong>Instructor:</strong> Dr. Johnson</p>
              <p><strong>Schedule:</strong> Tue & Thu, 2:00 PM</p>
              <p><strong>Next Session:</strong> Today, 2:00 PM</p>
            </div>
            <div class="classroom-actions">
              <button class="classroom-btn primary" onclick="joinClassroom('database')">Join Class</button>
              <button class="classroom-btn secondary" onclick="viewMaterials('database')">Materials</button>
            </div>
          </div>
        </div>
        
        <div class="classroom-card">
          <div class="classroom-header">
            <h3>Software Engineering</h3>
          </div>
          <div class="classroom-body">
            <div class="classroom-info">
              <p><strong>Instructor:</strong> Dr. Williams</p>
              <p><strong>Schedule:</strong> Mon & Fri, 1:00 PM</p>
              <p><strong>Next Session:</strong> Monday, 1:00 PM</p>
            </div>
            <div class="classroom-actions">
              <button class="classroom-btn primary" onclick="joinClassroom('software')">Join Class</button>
              <button class="classroom-btn secondary" onclick="viewMaterials('software')">Materials</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Grades Section -->
    <div class="section" id="gradesSection">
      <h2>Academic Performance</h2>
      
      <div class="grades-summary">
        <div class="grade-card">
          <h4>Current GPA</h4>
          <div class="grade-value">3.75</div>
          <p>Out of 4.0</p>
        </div>
        <div class="grade-card">
          <h4>WEB DEVELOPMENT</h4>
          <div class="grade-value">92%</div>
          <p>Grade: A</p>
        </div>
        <div class="grade-card">
          <h4>Completed Credits</h4>
          <div class="grade-value">45</div>
          <p>Out of 120</p>
        </div>
      </div>
      
      <table class="grades-table">
        <thead>
          <tr>
            <th>Course</th>
            <th>Assignment</th>
            <th>Score</th>
            <th>Weight</th>
            <th>Date</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>WEB DEVELOPMENT</td>
            <td>HTML/CSS Project</td>
            <td>95%</td>
            <td>15%</td>
            <td>2025-01-15</td>
          </tr>
          <tr>
            <td>WEB DEVELOPMENT</td>
            <td>JavaScript Quiz</td>
            <td>88%</td>
            <td>10%</td>
            <td>2025-02-10</td>
          </tr>
          <tr>
            <td>WEB DEVELOPMENT</td>
            <td>Midterm Exam</td>
            <td>90%</td>
            <td>30%</td>
            <td>2025-03-05</td>
          </tr>
          <tr>
            <td>WEB DEVELOPMENT</td>
            <td>Node.js Assignment</td>
            <td>94%</td>
            <td>15%</td>
            <td>2025-03-20</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Assignment/Activity Section -->
    <div class="section" id="assignmentsSection">
      <h2>Assignments & Activities</h2>
      
      <div class="assignment-form">
        <h3>Create New Assignment</h3>
        <form id="assignmentForm">
          <div class="form-group">
            <label for="assignmentTitle">Title</label>
            <input type="text" id="assignmentTitle" placeholder="Enter assignment title" required>
          </div>
          <div class="form-group">
            <label for="assignmentDescription">Description</label>
            <textarea id="assignmentDescription" placeholder="Enter assignment description" rows="3"></textarea>
          </div>
          <div class="form-group">
            <label for="assignmentDeadline">Deadline</label>
            <input type="date" id="assignmentDeadline" required>
          </div>
          <div class="form-group">
            <label for="assignmentType">Type</label>
            <select id="assignmentType">
              <option value="assignment">Assignment</option>
              <option value="activity">Activity</option>
              <option value="project">Project</option>
            </select>
          </div>
          <button type="submit" class="btn">Create Assignment</button>
        </form>
      </div>
      
      <div class="assignment-list" id="assignmentList">
        <!-- Assignments will be loaded here -->
      </div>
    </div>
  </main>

  <!-- Assignment Submission Modal -->
  <div class="modal" id="submissionModal">
    <div class="modal-content">
      <h3 id="modalAssignmentTitle">Submit Assignment</h3>
      <div class="form-group">
        <label for="submissionLink">Assignment/Activity Link</label>
        <input type="url" id="submissionLink" placeholder="https://example.com/your-assignment" required>
      </div>
      
      <div id="existingSubmission" style="display: none;">
        <h4>Current Submission:</h4>
        <div class="submission-link" id="currentSubmissionLink">
          <!-- Current submission link will appear here -->
        </div>
      </div>
      
      <div class="modal-buttons">
        <button type="button" class="btn-secondary" onclick="closeSubmissionModal()">Cancel</button>
        <button type="button" class="btn-primary" onclick="submitAssignmentLink()">Submit Link</button>
      </div>
    </div>
  </div>

  <script>
    // Calendar variables
    let currentDate = new Date();
    let currentMonth = currentDate.getMonth();
    let currentYear = currentDate.getFullYear();
    let currentAssignmentId = null;

    // Menu toggle function
    function toggleMenu() {
      document.getElementById("sideNav").classList.toggle("active");
      document.getElementById("overlay").classList.toggle("active");
    }

    // Show specific section
    function showSection(sectionName) {
      // Hide all sections
      document.querySelectorAll('.section').forEach(section => {
        section.classList.remove('active');
      });
      
      // Show selected section
      document.getElementById(sectionName + 'Section').classList.add('active');
      
      // Close mobile menu
      toggleMenu();
      
      // If showing calendar, generate it
      if (sectionName === 'calendar') {
        generateCalendar();
      }
      
      // If showing assignments, display them
      if (sectionName === 'assignments') {
        displayAssignments();
      }
    }

    // Google Meet functions
    function joinGoogleMeet() {
      window.open('https://meet.google.com/acadease-web-dev', '_blank');
    }

    function viewMeetDetails() {
      alert('Web Development Class - Google Meet\n\nMeeting Link: https://meet.google.com/acadease-web-dev\nSchedule: Monday & Wednesday, 10:00 AM - 11:30 AM\nInstructor: Prof. Smith\n\nPlease join 5 minutes before the scheduled time.');
    }

    function copyMeetLink() {
      const meetLink = document.getElementById('meetLink').textContent;
      navigator.clipboard.writeText(meetLink).then(() => {
        alert('Meeting link copied to clipboard!');
      });
    }

    // Classroom functions
    function joinClassroom(classId) {
      alert(`Joining ${classId} classroom...\n\nIn a real application, this would connect you to the virtual classroom.`);
    }

    function viewMaterials(classId) {
      alert(`Opening materials for ${classId}...\n\nIn a real application, this would show course materials and resources.`);
    }

    // Display user email
    function displayUserInfo() {
      const userEmail = localStorage.getItem('userEmail');
      document.getElementById('userEmail').textContent = userEmail;
    }

    // Display assignments from localStorage
    function displayAssignments() {
      const container = document.getElementById("assignmentList");
      const assignments = JSON.parse(localStorage.getItem("assignments")) || [];

      if (assignments.length === 0) {
        container.innerHTML = `
          <div class="empty-state">
            <h3>No assignments yet</h3>
            <p>Create your first assignment to get started!</p>
          </div>
        `;
        return;
      }

      container.innerHTML = '';
      assignments.forEach((assignment, index) => {
        const assignmentElement = document.createElement('div');
        assignmentElement.className = 'assignment-item';
        assignmentElement.setAttribute('data-id', index);
        assignmentElement.onclick = () => openSubmissionModal(index);
        
        const submissionStatus = assignment.submissionLink ? 
          `<div class="submission-status submitted">‚úì Submitted</div>` :
          `<div class="submission-status not-submitted">‚úó Not Submitted</div>`;
        
        assignmentElement.innerHTML = `
          <h3>${assignment.title}</h3>
          <p>${assignment.description}</p>
          <p><strong>Type:</strong> ${assignment.type}</p>
          <strong class="deadline">Deadline: ${assignment.deadline}</strong>
          ${submissionStatus}
        `;
        container.appendChild(assignmentElement);
      });
    }

    // Open submission modal
    function openSubmissionModal(assignmentId) {
      const assignments = JSON.parse(localStorage.getItem("assignments")) || [];
      const assignment = assignments[assignmentId];
      
      if (!assignment) return;
      
      currentAssignmentId = assignmentId;
      document.getElementById('modalAssignmentTitle').textContent = `Submit: ${assignment.title}`;
      document.getElementById('submissionLink').value = assignment.submissionLink || '';
      
      // Show existing submission if available
      const existingSubmissionDiv = document.getElementById('existingSubmission');
      const currentSubmissionLinkDiv = document.getElementById('currentSubmissionLink');
      
      if (assignment.submissionLink) {
        existingSubmissionDiv.style.display = 'block';
        currentSubmissionLinkDiv.innerHTML = `<a href="${assignment.submissionLink}" target="_blank">${assignment.submissionLink}</a>`;
      } else {
        existingSubmissionDiv.style.display = 'none';
      }
      
      document.getElementById('submissionModal').classList.add('active');
    }

    // Close submission modal
    function closeSubmissionModal() {
      document.getElementById('submissionModal').classList.remove('active');
      currentAssignmentId = null;
    }

    // Submit assignment link
    function submitAssignmentLink() {
      const link = document.getElementById('submissionLink').value;
      
      if (!link) {
        alert('Please enter a valid link');
        return;
      }
      
      // Validate URL format
      try {
        new URL(link);
      } catch (e) {
        alert('Please enter a valid URL');
        return;
      }
      
      const assignments = JSON.parse(localStorage.getItem("assignments")) || [];
      
      if (currentAssignmentId !== null && assignments[currentAssignmentId]) {
        assignments[currentAssignmentId].submissionLink = link;
        localStorage.setItem("assignments", JSON.stringify(assignments));
        
        // Update display
        displayAssignments();
        closeSubmissionModal();
        
        alert('Assignment link submitted successfully!');
      }
    }

    // Handle assignment form submission
    document.getElementById("assignmentForm").addEventListener("submit", function(e) {
      e.preventDefault();
      
      const title = document.getElementById("assignmentTitle").value;
      const description = document.getElementById("assignmentDescription").value;
      const deadline = document.getElementById("assignmentDeadline").value;
      const type = document.getElementById("assignmentType").value;
      
      const assignments = JSON.parse(localStorage.getItem("assignments")) || [];
      
      assignments.push({
        title,
        description,
        deadline,
        type,
        submissionLink: null
      });
      
      localStorage.setItem("assignments", JSON.stringify(assignments));
      
      // Reset form
      document.getElementById("assignmentForm").reset();
      
      // Refresh assignments list
      displayAssignments();
      
      alert("Assignment created successfully!");
    });

    // Calendar functions
    function generateCalendar() {
      const calendarGrid = document.getElementById('calendarGrid');
      const monthYearDisplay = document.getElementById('currentMonthYear');
      
      // Clear previous calendar
      calendarGrid.innerHTML = '';
      
      // Set month and year display
      const monthNames = ["January", "February", "March", "April", "May", "June",
        "July", "August", "September", "October", "November", "December"];
      monthYearDisplay.textContent = `${monthNames[currentMonth]} ${currentYear}`;
      
      // Create day headers
      const dayNames = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
      dayNames.forEach(day => {
        const dayHeader = document.createElement('div');
        dayHeader.className = 'calendar-day-header';
        dayHeader.textContent = day;
        calendarGrid.appendChild(dayHeader);
      });
      
      // Get first day of month and number of days
      const firstDay = new Date(currentYear, currentMonth, 1).getDay();
      const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
      
      // Add empty cells for days before the first day of the month
      for (let i = 0; i < firstDay; i++) {
        const emptyDay = document.createElement('div');
        emptyDay.className = 'calendar-day empty';
        calendarGrid.appendChild(emptyDay);
      }
      
      // Add days of the month
      const today = new Date();
      for (let day = 1; day <= daysInMonth; day++) {
        const dayElement = document.createElement('div');
        dayElement.className = 'calendar-day';
        
        // Check if this is today
        if (day === today.getDate() && currentMonth === today.getMonth() && currentYear === today.getFullYear()) {
          dayElement.classList.add('today');
        }
        
        dayElement.innerHTML = `<div class="day-number">${day}</div>`;
        
        // Add events for this day
        addEventsToDay(dayElement, day);
        
        calendarGrid.appendChild(dayElement);
      }
    }
    
    function addEventsToDay(dayElement, day) {
      const events = JSON.parse(localStorage.getItem('calendarEvents')) || [];
      const dateStr = `${currentYear}-${(currentMonth + 1).toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;
      
      const dayEvents = events.filter(event => event.date === dateStr);
      
      dayEvents.forEach(event => {
        const eventElement = document.createElement('div');
        eventElement.className = `event ${event.type}`;
        eventElement.textContent = event.title;
        eventElement.title = `${event.title}: ${event.description || 'No description'}`;
        dayElement.appendChild(eventElement);
      });
    }
    
    function previousMonth() {
      currentMonth--;
      if (currentMonth < 0) {
        currentMonth = 11;
        currentYear--;
      }
      generateCalendar();
    }
    
    function nextMonth() {
      currentMonth++;
      if (currentMonth > 11) {
        currentMonth = 0;
        currentYear++;
      }
      generateCalendar();
    }
    
    function openAddEventModal() {
      alert("This would open a modal to add events. In a real application, you would implement this functionality.");
    }

    // Logout function
    function logout() {
      localStorage.removeItem('isLoggedIn');
      localStorage.removeItem('userEmail');
      window.location.href = 'login.html';
    }

    // Check login status
    function checkLoginStatus() {
      if (localStorage.getItem('isLoggedIn') !== 'true') {
        window.location.href = 'login.html';
      }
    }

    // Initialize dashboard
    window.onload = function() {
      checkLoginStatus();
      displayUserInfo();
      displayAssignments();
      
      // Add sample events if none exist
      if (!localStorage.getItem('calendarEvents')) {
        const today = new Date();
        const sampleEvents = [
          {
            title: 'Math Quiz',
            type: 'exam',
            date: `${today.getFullYear()}-${(today.getMonth() + 1).toString().padStart(2, '0')}-${(today.getDate() + 2).toString().padStart(2, '0')}`,
            description: 'Chapter 5-7'
          },
          {
            title: 'Science Project',
            type: 'assignment',
            date: `${today.getFullYear()}-${(today.getMonth() + 1).toString().padStart(2, '0')}-${(today.getDate() + 5).toString().padStart(2, '0')}`,
            description: 'Research paper on climate change'
          }
        ];
        localStorage.setItem('calendarEvents', JSON.stringify(sampleEvents));
      }
      
      // Add sample assignments if none exist
      if (!localStorage.getItem('assignments') || JSON.parse(localStorage.getItem('assignments')).length === 0) {
        const sampleAssignments = [
          {
            title: 'HTML/CSS Portfolio',
            description: 'Create a personal portfolio website using HTML and CSS',
            deadline: '2025-02-15',
            type: 'project',
            submissionLink: null
          },
          {
            title: 'JavaScript Functions Exercise',
            description: 'Complete the JavaScript functions practice problems',
            deadline: '2025-02-10',
            type: 'assignment',
            submissionLink: null
          }
        ];
        localStorage.setItem('assignments', JSON.stringify(sampleAssignments));
        displayAssignments();
      }
    };
  </script>
</body>
</html>